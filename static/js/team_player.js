json_data={
  "req_data" :[
     
    {
      "series_name": "Pakistan Super League",
       "series_code": "PSL",
        "number_teams": 6 ,
        "team_list": ["PES", "LAH","MUL","ISL","QUE","KAR"], 
        "teams": [
            {"team_name": "PES",
               "players_name": ["K Akmal", "S Rutherford", "D Miller", "Imam-ul-Haq", "TK Cadmore", "H Ali", "Amad-Butt", "S Malik", "U Asif", "R Bopara", "MA Khan", "M Imran", "W Salamkhel", "W Riaz", "M Imran", "MU Rahman", "M Irfan", "A Ahmed", "S Mahmood"],
                "players_role": [1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4], 
                "players_credits": [9.0, 8.5, 9.0, 8.5, 8.5, 9.0, 9.0, 9.5, 8.5, 9.5, 8.0, 8.0, 8.0, 9.0, 8.0, 9.0, 8.5, 8.0, 8.5], 
                "players_image": [3000, 3001, 3002, 3003, 3004, 3005, 3006, 3007, 0, 3009, 0, 0, 0, 3013, 0, 3015, 3016, 0, 3018], 
                "players_id": [3000, 3001, 3002, 3003, 3004, 3005, 3006, 3007, 3008, 3009, 3010, 3011, 3012, 3013, 3014, 3015, 3016, 3017, 3018]},
                 {"team_name": "LAH", 
                  "players_name": ["Z Ashraf", "B Dunk", "M Faizan", "S Akhtar", "J Denly", "Z Alam", "F Zaman", "T Abell", "A Salman", "D Wiese", "S Patel", "M Hafeez", "A Daniyal", "D Hussain", "H Rauf", "Maaz-Khan", "S Afridi", "R Khan"], 
                  "players_role": [1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4], 
                  "players_credits": [8.5, 8.5, 8.0, 8.5, 8.5, 8.0, 9.5, 8.5, 8.0, 9.0, 8.5, 10.0, 8.0, 8.5, 8.5, 8.0, 9.5, 9.5], 
                  "players_image": [0, 3020, 0, 0, 3023, 0, 3025, 3026, 0, 3028, 3029, 3030, 0, 3032, 3033, 0, 3035, 3036], 
                  "players_id": [3019, 3020, 3021, 3022, 3023, 3024, 3025, 3026, 3027, 3028, 3029, 3030, 3031, 3032, 3033, 3034, 3035, 3036]
              },
              {"team_name": "MUL", "players_name": ["M Rizwan", "R Rossouw", "C Lynn", "K Shah", "J Vince", "S Maqsood", "S Masood", "S Afridi", "A Lyth", "C Brathwaite", "S Khan", "S Dahani", "M Umar", "I Khan", "Sohaibullah", "U Qadir", "I Tahir", "S Tanvir"], "players_role": [1, 2, 2, 2, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4], "players_credits": [9.5, 8.5, 10.0, 8.5, 9.5, 8.5, 9.0, 8.5, 8.5, 8.5, 8.5, 8.0, 8.0, 8.5, 8.0, 8.5, 9.0, 8.5], "players_image": [3050, 3051, 3052, 3053, 3054, 3055, 3056, 3057, 3058, 3059, 3060, 0, 0, 3063, 0, 3065, 3066, 3067], "players_id": [3050, 3051, 3052, 3053, 3054, 3055, 3056, 3057, 3058, 3059, 3060, 3061, 3062, 3063, 3064, 3065, 3066, 3067]}, {"team_name": "ISL", "players_name": ["R Nazir", "P Salt", "A Hales", "Iftikhar-Ahmed", "P Stirling", "A Ali", "H Talat", "F Ashraf", "S Khan", "M Wasim", "L Gregory", "AS Abdullah", "A Javed", "Z Zameer", "M Khan", "A Khan", "Hasan-Ali", "Z Gohar", "F Ahmed"], "players_role": [1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4], "players_credits": [8.0, 8.5, 10.5, 8.5, 9.0, 8.5, 8.5, 9.0, 9.5, 8.0, 8.5, 8.0, 8.0, 8.0, 8.0, 8.5, 9.0, 8.5, 8.5], "players_image": [3068, 3069, 3070, 3071, 3072, 3073, 3074, 3075, 3076, 0, 3078, 0, 0, 0, 3082, 3083, 3084, 3085, 3086], "players_id": [3068, 3069, 3070, 3071, 3072, 3073, 3074, 3075, 3076, 3077, 3078, 3079, 3080, 3081, 3082, 3083, 3084, 3085, 3086]},
              {"team_name": "QUE", "players_name": ["A Khan", "S Ahmed", "C Gayle", "U Khan", "S Ayub", "T Banton", "C Delport", "B Cutting", "A Nasir", "M Nawaz", "D Steyn", "Z Mehmood", "AA Khan", "Anwar-Ali", "Naseem-Shah", "M Hasnain", "Q Ahmad", "H Khan", "U Khan-Shinwari"], "players_role": [1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4], "players_credits": [41.2, 29.4, 70.6, 0.0, 0.0, 82.4, 29.4, 76.5, 0.0, 23.5, 0.0, 5.9, 0.0, 11.8, 17.6, 64.7, 35.3, 0.0, 11.8], "players_image": [0, 30121, 30122, 0, 0, 30125, 30126, 30127, 0, 30129, 30130, 0, 0, 30133, 30134, 30135, 30136, 30137, 30138], "players_id": [30120, 30121, 30122, 30123, 30124, 30125, 30126, 30127, 30128, 30129, 30130, 30131, 30132, 30133, 30134, 30135, 30136, 30137, 30138]}, {"team_name": "KAR", "players_name": ["C Walton", "Z Malik", "J Clarke", "B Azam", "C Ingram", "S Khan", "I Wasim", "D Aziz", "M Nabi", "D Christian", "Q Akram", "Arshad-Iqbal", "N Ahmad", "A Afridi", "W Maqsood", "M Amir", "M Ilyas", "A Yamin"], "players_role": [1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4], "players_credits": [41.2, 5.9, 11.8, 100.0, 76.5, 17.6, 76.5, 0.0, 35.3, 88.2, 0.0, 23.5, 0.0, 0.0, 35.3, 88.2, 0.0, 11.8], "players_image": [30139, 0, 30141, 30142, 30143, 0, 30145, 0, 30147, 30148, 0, 0, 30151, 0, 0, 30154, 0, 0], "players_id": [30139, 30140, 30141, 30142, 30143, 30144, 30145, 30146, 30147, 30148, 30149, 30150, 30151, 30152, 30153, 30154, 30155, 30156]}  
              ]
  },
  
{"series_name": "WI VS SL", "series_code": "WVS", "number_teams": 2, "team_list": ["WI", "SL"], "teams": [{"team_name": "WI", "players_name": ["N Pooran", "A Fletcher", "E Lewis", "R Powell", "L Simmons", "C Gayle", "K Pollard", "J Holder", "F Allen", "K Sinclair", "O McCoy", "A Hosein", "F Edwards", "D Bravo"], "players_role": [1, 1, 2, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4, 4], "players_credits": [9.5, 8.5, 9.0, 8.5, 8.5, 10.0, 10.0, 9.0, 8.5, 8.0, 8.0, 8.0, 8.5, 9.0], "players_image": [4100, 4101, 4102, 4103, 4104, 4105, 4106, 4107, 4108, 4109, 4110, 4111, 4112, 4113], "players_id": [4100, 4101, 4102, 4103, 4104, 4105, 4106, 4107, 4108, 4109, 4110, 4111, 4112, 4113]}, {"team_name": "SL", "players_name": ["N Dickwella", "D Chandimal", "A Mathews", "A Bandara", "D Gunathilaka", "D Karunaratne", "P Nissanka", "O Fernando", "Thisara-Perera", "D Shanaka", "R Mendis", "W Hasaranga", "Kamindu-Mendis", "D Madushanka", "Asitha-Fernando", "L Sandakan", "A Dananjaya", "D Chameera", "N Pradeep", "S Lakmal"], "players_role": [1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4], "players_credits": [9.0, 8.5, 9.0, 8.0, 9.0, 8.0, 8.0, 8.5, 9.5, 9.0, 8.0, 9.0, 8.5, 8.0, 8.0, 8.5, 8.5, 8.5, 8.5, 8.5], "players_image": [4114, 4115, 4116, 4117, 4118, 4119, 0, 4121, 4122, 4123, 0, 4125, 4126, 0, 0, 4129, 4130, 4131, 4132, 4133], "players_id": [4114, 4115, 4116, 4117, 4118, 4119, 4120, 4121, 4122, 4123, 4124, 4125, 4126, 4127, 4128, 4129, 4130, 4131, 4132, 4133]}]},
  
  
  {"series_name": "NZ-W VS AU-W", "series_code": "NWVAW", "number_teams": 2, "team_list": ["NZ-W", "AU-W"], "teams": [{"team_name": "NZ-W", "players_name": ["K Martin", "B Halliday", "M Green", "A Satterthwaite", "S Devine", "A Kerr", "F Mackay", "H Jensen", "R Mair", "J Kerr", "F Jonas", "H Rowe", "T Newton"], "players_role": [1, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4], "players_credits": [8.5, 8.0, 8.5, 9.5, 10.0, 9.5, 8.5, 8.5, 8.5, 8.5, 8.0, 8.0, 8.0], "players_image": [6700, 6701, 6702, 6703, 6704, 6705, 6706, 6707, 6708, 6709, 6710, 6711, 6712], "players_id": [6700, 6701, 6702, 6703, 6704, 6705, 6706, 6707, 6708, 6709, 6710, 6711, 6712]}, {"team_name": "AU-W", "players_name": ["A Healy", "M Lanning", "R Haynes", "A Gardner", "B Mooney", "E Perry", "T McGrath", "J Jonassen", "N Carey", "D Brown", "M Strano", "H Darlington", "B Vakarewa", "G Wareham", "T Vlaeminck", "S Molineux", "M Schutt"], "players_role": [1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4], "players_credits": [10.0, 9.5, 8.5, 9.0, 9.5, 9.5, 8.5, 9.0, 8.5, 8.0, 8.5, 8.0, 8.0, 8.5, 8.5, 8.5, 9.0], "players_image": [6713, 6714, 6715, 6716, 6717, 6718, 6719, 6720, 6721, 0, 6723, 6724, 6725, 6726, 6727, 6728, 6729], "players_id": [6713, 6714, 6715, 6716, 6717, 6718, 6719, 6720, 6721, 6722, 6723, 6724, 6725, 6726, 6727, 6728, 6729]}]},


{"series_name": "NZ VS BAN", "series_code": "NVBM", "number_teams": 2, "team_list": ["NZ", "BAN"], "teams": [{"team_name": "NZ", "players_name": ["F Allen", "D Conway", "G Phillips", "W Young", "M Chapman", "M Guptill", "T Astle", "D Mitchell", "T Southee", "L Ferguson", "A Milne", "H Bennett", "I Sodhi"], "players_role": [1, 1, 2, 2, 2, 2, 3, 3, 4, 4, 4, 4, 4], "players_credits": [8.0, 9.5, 9.5, 8.0, 8.0, 10.5, 8.0, 8.5, 9.5, 9.0, 8.5, 8.5, 8.5], "players_image": [6800, 6801, 6802, 6803, 6804, 6805, 6806, 6807, 6808, 6809, 6810, 6811, 6812], "players_id": [6800, 6801, 6802, 6803, 6804, 6805, 6806, 6807, 6808, 6809, 6810, 6811, 6812]}, {"team_name": "BAN", "players_name": ["M Rahim", "L Das", "N Hossain-Shanto", "Mohammad-Naim-Sheikh", "M Mithun", "Mahmudullah", "S Sarkar", "Mosaddek-Hossain", "A Hossain", "M Saifuddin", "Mahedi-Hasan", "MH Miraz", "A Hossain", "Shoriful-Islam", "R Hossain", "H Mahmud", "N Ahmed", "T Ahmed", "M Rahman"], "players_role": [1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4], "players_credits": [9.5, 9.0, 8.0, 8.5, 8.5, 9.0, 9.0, 8.5, 8.0, 9.0, 8.0, 8.5, 8.5, 8.0, 8.5, 8.0, 8.0, 8.5, 9.0], "players_image": [6813, 6814, 6815, 0, 6817, 6818, 6819, 6820, 6821, 6822, 6823, 6824, 6825, 0, 6827, 6828, 6829, 6830, 6831], "players_id": [6813, 6814, 6815, 6816, 6817, 6818, 6819, 6820, 6821, 6822, 6823, 6824, 6825, 6826, 6827, 6828, 6829, 6830, 6831]}]},
    {
    "series_name": "SA VS PAK MEN",
     "series_code": "SVPMEN",
      "number_teams": 2,
       "team_list": ["SA", "PAK"],
        "teams": [
            {"team_name": "SA", 
                "players_name": ["Q Kock", "H Klaasen", "K Verreynne", "D Miller", "A Markram", "J Malan", "R der-Dussen", "T Bavuma", "W Mulder", "JJ Smuts", "L Williams", "K Maharaj", "A Phehlukwayo", "A Nortje", "B Hendricks", "L Ngidi", "J Dala", "K Rabada", "D Dupavillon", "L Sipamla", "S Magala", "T Shamsi"], 
                "players_role": [1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4],
                 "players_credits": [9.5, 8.5, 8.0, 9.0, 9.0, 8.5, 8.5, 9.0, 8.5, 9.0, 8.0, 8.5, 9.0, 9.0, 8.5, 8.5, 8.5, 9.0, 8.0, 8.0, 8.5, 8.5],
                  "players_image": [8800, 8801, 0, 8803, 8804, 8805, 8806, 8807, 8808, 8809, 8810, 8811, 8812, 8813, 8814, 8815, 0, 8817, 0, 0, 8820, 8821], 
                  "players_id": [8800, 8801, 8802, 8803, 8804, 8805, 8806, 8807, 8808, 8809, 8810, 8811, 8812, 8813, 8814, 8815, 8816, 8817, 8818, 8819, 8820, 8821]},
                   {"team_name": "PAK", 
                    "players_name": ["M Rizwan", 
                        "S Ahmed", "H Ali", "F Zaman", "Imam-ul-Haq", "A Shafiq", "D Aziz", "A Ali", "B Azam", "F Ashraf", "M Nawaz", "M Wasim", "S Khan", "H Rauf", "M Hasnain", "S Afridi", "U Qadir", "Hasan-Ali"],
                     "players_role": [1, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4], "players_credits": [9.5, 8.5, 8.5, 8.5, 8.5, 8.0, 8.0, 8.5, 10.0, 9.0, 9.0, 8.5, 9.5, 8.5, 8.5, 9.0, 8.5, 8.5], "players_image": [8822, 8823, 8824, 8825, 8826, 8827, 0, 8829, 8830, 8831, 8832, 0, 8834, 8835, 8836, 8837, 8838, 8839], "players_id": [8822, 8823, 8824, 8825, 8826, 8827, 8828, 8829, 8830, 8831, 8832, 8833, 8834, 8835, 8836, 8837, 8838, 8839]}]},
  {
    "series_name": "IPL 2021 LEAGUE",
     "series_code": "IPL2021",
      "number_teams": 8,
       "team_list": ["RCB2021", "MI2021","KKR2021","SRH2021","CSK2021","PK2021","RR2021","DC2021"],
        "teams": [
            {
                "team_name": "RCB2021",
                 "players_name": ["M Azharuddeen", "K Srikar-Bharat", "AB Villiers", "P Deshpande", "S Baby", "S Prabhudessai", "D Padikkal", "F Allen", "R Patidar", "V Kohli", "W Sundar", "S Ahmed", "D Sams", "G Maxwell", "D Christian", "K Jamieson", "M Siraj", "N Saini", "A Zampa", "H Patel", "K Richardson", "Y Chahal"],
                  "players_role": [1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4], 
                  "players_credits": [8.0, 8.0, 10.0, 8.0, 8.0, 8.0, 9.0, 8.0, 8.0, 10.5, 8.5, 7.5, 8.0, 9.0, 8.5, 8.5, 8.5, 8.0, 8.5, 8.0, 8.5, 9.0], 
                  "players_image": [9025, 9026, 9027, 9028, 9029, 9030, 9031, 9032, 9033, 9034, 9035, 9036, 9037, 9038, 9039, 9040, 9041, 9042, 9043, 9044, 9045, 9046], 
                  "players_id": [9025, 9026, 9027, 9028, 9029, 9030, 9031, 9032, 9033, 9034, 9035, 9036, 9037, 9038, 9039, 9040, 9041, 9042, 9043, 9044, 9045, 9046]
                  },
                  {
                    "team_name": "MI2021",
                    "players_name": ["Q Kock", "I Kishan", "A Tare", "S Tiwary", "R Sharma", "S Yadav", "C Lynn", "A Singh", "K Pollard", "K Pandya", "H Pandya", "A Roy", "J Neesham", "A Tendulkar", "M Jansen", "R Chahar", "M Khan", "Y Singh", "J Yadav", "J Bumrah", "N Coulter-Nile", "T Boult", "A Milne", "D Kulkarni", "P Chawla"], 
                   "players_role": [1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
                    "players_credits": [9.5, 8.5, 8.0, 8.0, 10.0, 9.0, 8.5, 8.0, 9.0, 8.0, 9.0, 8.0, 8.5, 7.5, 8.0, 8.5, 8.0, 8.0, 8.0, 9.0, 8.0, 9.0, 8.0, 8.0, 8.0],
                     "players_image": [9000, 9001, 9002, 9003, 9004, 9005, 9006, 9007, 9008, 9009, 9010, 9011, 9012, 9013, 9014, 9015, 9016, 0, 9018, 9019, 9020, 9021, 9022, 9023, 9024], 
                     "players_id": [9000, 9001, 9002, 9003, 9004, 9005, 9006, 9007, 9008, 9009, 9010, 9011, 9012, 9013, 9014, 9015, 9016, 9017, 9018, 9019, 9020, 9021, 9022, 9023, 9024]
                   },
          {"team_name": "KKR2021",
               "players_name":[],
                "players_role": [], 
                "players_credits": [], 
                "players_image": [], 
                "players_id": []
                },
          {"team_name": "SRH2021",
               "players_name":[],
                "players_role": [], 
                "players_credits": [], 
                "players_image": [], 
                "players_id": []
                },
          {"team_name": "CSK2021",
               "players_name":[],
                "players_role": [], 
                "players_credits": [], 
                "players_image": [], 
                "players_id": []
                },
          {"team_name": "PK2021",
               "players_name":[],
                "players_role": [], 
                "players_credits": [], 
                "players_image": [], 
                "players_id": []
                },
          {"team_name": "RR2021",
               "players_name":[],
                "players_role": [], 
                "players_credits": [], 
                "players_image": [], 
                "players_id": []
                },
          {"team_name": "DC2021",
               "players_name":[],
                "players_role": [], 
                "players_credits": [], 
                "players_image": [], 
                "players_id": []
                }
        ]
}




  ]
}

class Player
  {
    constructor(n,r,c,i,p_i,p_t_i,player_id)
    {
      this.player_name = n
      this.player_role = r
      this.player_credits = c
      this.player_image = i
      this.player_index=p_i
      this.player_team_index=p_t_i
      this.player_id=player_id
    }
  }
class Team
  {
    constructor(player_list,team_n)
    {
      this.players =player_list
      this.team_name = team_n
    }
  }
class Series
{
  constructor(series_code,series_name,teams_list,teams)
  {
    this.code= series_code
    this.name = series_name
    this.teams_list = teams_list
    this.teams = teams
  }
}
let store_teams = function(){
  //var req_data=null
 
      let req_data=json_data.req_data
        Series_Final_List=[]
        for(let j=0;j<req_data.length;j++)
        {
          Team_Final_List=[]
          data = req_data[j]
          for(let i=0;i<data.number_teams;i++)
          {
              let obj =data.teams[i]
              let player_list_obj=[]
              for(let k=0;k<obj.players_name.length;k++)
              {
                  player_list_obj.push(new Player(obj.players_name[k],obj.players_role[k],obj.players_credits[k],obj.players_image[k],k,i,obj.players_id[k]))
              }
              Team_Final_List.push(new Team(player_list_obj,obj.team_name))
          }
          Series_Final_List.push(new Series(data.series_code,data.series_name,data.team_list,Team_Final_List))
        }
        let kvp_flag = localStorage.getItem('series_data')
        if(kvp_flag==null)
        {
          json_string = JSON.stringify({req_data:Series_Final_List,})
          localStorage.setItem('series_data',json_string)
          localStorage.setItem('WA_start_id','101')
        }
        else
        {
          //console.log('job done')
           ls_data = JSON.parse(kvp_flag).req_data
           let existed_codes=[]
           ls_data.forEach((series)=>
           {
             existed_codes.push(series.code)
           })
           let present_codes=[]
           Series_Final_List.forEach((series)=>
           {
             present_codes.push(series.code)
             if(existed_codes.includes(series.code)==false)
             {
                ls_data.push(series)
             }
           })
           let final_list=[]
           ls_data.forEach((series)=>
           {
             if(present_codes.includes(series.code)==true)
             {
               final_list.push(series)
             }
           })
           localStorage.setItem('series_data',JSON.stringify({'req_data':final_list,}));
        }
        //console.log(Team_Final_List)
}
